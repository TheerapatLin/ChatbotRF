# ü§ñ ChatBot Project

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå AI Chatbot ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ **Go Fiber**, **PostgreSQL**, **OpenAI API** ‡πÅ‡∏•‡∏∞ **WebSocket Streaming**

---

## üìñ ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£

**ChatBot Project** ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó AI ‡πÅ‡∏ö‡∏ö Full-Stack ‡∏ó‡∏µ‡πà‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ:

- ü§ñ **Multi-Persona AI Assistant** - ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢ AI ‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å (General Assistant, Technology Expert, Business Advisor)
- üé§ **Voice Input** - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ OpenAI Whisper API
- ‚ö° **Real-time Streaming** - ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö streaming ‡∏ú‡πà‡∏≤‡∏ô WebSocket (typing effect ‡πÅ‡∏ö‡∏ö real-time)
- üíæ **Conversation History** - ‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô PostgreSQL
- üöÄ **High-Performance API** - Backend ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ Go Fiber ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏û‡∏±‡∏ô connections

**Use Cases:**
- ‡∏£‡∏∞‡∏ö‡∏ö Customer Support ‡πÅ‡∏ö‡∏ö AI
- Virtual Assistant ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à
- Educational Chatbot
- Personal AI Assistant

---

## ‚ú® Feature ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á

### üéØ Core Features (‡∏ó‡∏µ‡πà implement ‡πÅ‡∏•‡πâ‡∏ß)

#### 1. **Chat System**
- ‚úÖ **Synchronous Chat** - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥
- ‚úÖ **WebSocket Streaming** - ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö real-time typing effect
- ‚úÖ **Message History** - ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏° pagination
- ‚úÖ **Context Awareness** - AI ‡∏à‡∏≥‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤

#### 2. **Multi-Persona System**
- ‚úÖ **3 Personas ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö:**
  - ü§ñ **General Assistant** - ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢
  - üíª **Technology Expert** - ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
  - üíº **Business Advisor** - ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î
- ‚úÖ **Custom System Prompts** - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ persona ‡∏°‡∏µ behavior ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
- ‚úÖ **Persona Statistics** - ‡∏î‡∏π‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ persona

#### 3. **Voice Input (Audio Transcription)**
- ‚úÖ **Upload Audio Files** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ü‡∏≠‡∏£‡πå‡πÅ‡∏°‡∏ï (mp3, wav, webm, m4a, mp4)
- ‚úÖ **OpenAI Whisper Integration** - ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ AI
- ‚úÖ **File Size Validation** - ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 25MB
- ‚úÖ **Language Detection** - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏π‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

#### 4. **Real-time Streaming**
- ‚úÖ **WebSocket Connection** - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏ö‡∏ö bidirectional
- ‚úÖ **Chunk-based Streaming** - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡∏•‡∏∞ chunk ‡πÅ‡∏ö‡∏ö real-time
- ‚úÖ **Typing Effect** - ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ **Auto-reconnect** - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡∏î

#### 5. **Database & Persistence**
- ‚úÖ **PostgreSQL 15** - ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß
- ‚úÖ **UUID Primary Keys** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö distributed
- ‚úÖ **JSONB Metadata** - ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÅ‡∏ö‡∏ö flexible
- ‚úÖ **Auto-Migration** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
- ‚úÖ **Connection Pooling** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ connections ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

#### 6. **API Documentation**
- ‚úÖ **Comprehensive API Docs** - ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÉ‡∏ô [API_DOCUMENTATION.md](API_DOCUMENTATION.md)
- ‚úÖ **Request/Response Examples** - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å endpoint
- ‚úÖ **Error Handling** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ errors ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### üöß Features ‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÑ‡∏ß‡πâ (Coming Soon)

- ‚è≥ **JWT Authentication** - ‡∏£‡∏∞‡∏ö‡∏ö login/register
- ‚è≥ **User Management** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- ‚è≥ **Rate Limiting** - ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
- ‚è≥ **Frontend UI (Vue.js 3)** - ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß)
- ‚è≥ **Unit Tests** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
- ‚è≥ **CI/CD Pipeline** - Deploy ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚è≥ **Monitoring** - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö

---

## üõ† ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### Backend Stack

| Technology | Version | Purpose |
|-----------|---------|---------|
| **Go** | 1.21+ | ‡∏†‡∏≤‡∏©‡∏≤‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏´‡∏•‡∏±‡∏Å (high-performance, concurrent) |
| **Fiber** | v2.52.6 | Web framework (Express-like for Go) |
| **GORM** | v1.25.5 | ORM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• |
| **PostgreSQL Driver** | v1.5.4 | Database driver |
| **go-openai** | v1.41.2 | OpenAI API SDK (Chat + Whisper) |
| **Fiber WebSocket** | v1.3.4 | WebSocket support ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö streaming |
| **google/uuid** | v1.6.0 | UUID generation |
| **godotenv** | v1.5.1 | Environment variables loader |

### Database

- **PostgreSQL 15+** - RDBMS ‡∏û‡∏£‡πâ‡∏≠‡∏° JSONB ‡πÅ‡∏•‡∏∞ UUID extensions
- **uuid-ossp Extension** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á UUID ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **Connection Pooling** - Max 100 open connections, 10 idle

### External Services

- **OpenAI API**
  - gpt-4o-mini / GPT-4 - Chat completions (sync & streaming)
  - Whisper API - Audio transcription
- **Docker & Docker Compose** - Container orchestration

### Frontend (Placeholder)

- **Vue.js 3** - Progressive JavaScript framework
- **Vite** - Build tool
- **Pinia** - State management (planned)
- **Axios** - HTTP client (planned)

---

## üì¶ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### ‚úÖ Prerequisites

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß:

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Docker
docker --version              # ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 20.0 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
docker-compose --version      # ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 1.29 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Go (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö local development)
go version                    # ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 1.21 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
```

### üì• Clone Repository

```bash
git clone <repository-url>
cd ChatBotProject
```

---

## üê≥ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Docker

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.development` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `backend/`:

```bash
cd backend

# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å template (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
cp .env.example .env.development

# ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢ text editor
nano .env.development
```

**‡πÑ‡∏ü‡∏•‡πå `.env.development` ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:**

```bash
# Server Configuration
PORT=3000
APP_ENV=development
APP_NAME=ChatBotAPI

# OpenAI API (‚ö†Ô∏è ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ!)
OPENAI_API_KEY=sk-proj-YOUR_ACTUAL_API_KEY_HERE
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# PostgreSQL Database
DATABASE_URL=postgres://chatbot_user:admin123@localhost:5432/chatbot_db?sslmode=disable
POSTGRES_USER=chatbot_user
POSTGRES_PASSWORD=admin123
POSTGRES_DB=chatbot_db
POSTGRES_PORT=5432

# CORS (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Frontend)
CORS_ORIGIN=http://localhost:5173
```

‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!** ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà OpenAI API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà `OPENAI_API_KEY`

### 2. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô PostgreSQL Database

```bash
# ‡πÄ‡∏£‡∏¥‡πà‡∏° PostgreSQL container
cd backend
docker-compose up -d

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
docker-compose ps

# ‡∏î‡∏π logs
docker-compose logs -f postgres
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:**
```
‚úì Container chatbot_postgres  Started
```

### 3. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á PostgreSQL

| ‡∏ß‡∏¥‡∏ò‡∏µ | URL/Command | Credentials |
|------|-------------|-------------|
| **psql (CLI)** | `docker exec -it chatbot_postgres psql -U chatbot_user -d chatbot_db` | User: `chatbot_user`<br>Password: `admin123` |
| **Connection String** | `postgres://chatbot_user:admin123@localhost:5432/chatbot_db` | - |
| **pgAdmin** | (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á - ‡πÉ‡∏ä‡πâ GUI tool ‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ) | - |

### 4. ‡∏´‡∏¢‡∏∏‡∏î Services

```bash
# ‡∏´‡∏¢‡∏∏‡∏î containers
docker-compose stop

# ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏•‡∏ö containers (‡πÅ‡∏ï‡πà data ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà)
docker-compose down

# ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á containers ‡πÅ‡∏•‡∏∞ volumes (‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡∏´‡∏°‡∏î!)
docker-compose down -v
```

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ

### üîπ Option 1: ‡∏£‡∏±‡∏ô Backend ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)

#### **Step 1: ‡πÄ‡∏£‡∏¥‡πà‡∏° PostgreSQL**

```bash
cd backend
docker-compose up -d
```

#### **Step 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Go Dependencies**

```bash
# ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå backend
go mod download
go mod tidy
```

#### **Step 3: ‡∏£‡∏±‡∏ô Backend Server**

```bash
# ‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥
go run main.go

# ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° hot-reload (‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á air ‡∏Å‡πà‡∏≠‡∏ô)
# go install github.com/cosmtrek/air@latest
air
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:**

```
2025/10/29 11:27:31 ‚úì Configuration loaded successfully (env: development)
2025/10/29 11:27:31 ‚úì Database connected successfully
2025/10/29 11:27:31 ‚úì PostgreSQL extensions initialized
2025/10/29 11:27:31 ‚úì Database migration completed
2025/10/29 11:27:31 ‚úì Personas already exist, skipping seed
2025/10/29 11:27:31 üöÄ Server starting on port 3000 (env: development)

 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îÇ                    ChatBotAPI                     ‚îÇ
 ‚îÇ                   Fiber v2.52.6                   ‚îÇ
 ‚îÇ               http://127.0.0.1:3000               ‚îÇ
 ‚îÇ       (bound on host 0.0.0.0 and port 3000)       ‚îÇ
 ‚îÇ                                                   ‚îÇ
 ‚îÇ Handlers ............ 16  Processes ........... 1 ‚îÇ
 ‚îÇ Prefork ....... Disabled  PID ............. 10040 ‚îÇ
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Backend ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà: **http://localhost:3000**

#### **Step 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API**

```bash
# Health check
curl http://localhost:3000/api/health

# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
# {"env":"development","message":"ChatBot API is running","status":"ok"}
```

### üîπ Option 2: ‡∏£‡∏±‡∏ô Backend + Frontend (‡πÄ‡∏°‡∏∑‡πà‡∏≠ Frontend ‡∏û‡∏£‡πâ‡∏≠‡∏°)

```bash
# Terminal 1: Backend
cd backend
go run main.go

# Terminal 2: Frontend (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
cd frontend
npm install
npm run dev
```

---

## üì° API Endpoints

### üè• Health Check

```bash
GET /api/health

# Response:
{
  "status": "ok",
  "message": "ChatBot API is running",
  "env": "development"
}
```

### üí¨ Chat Endpoints

#### 1. Send Message (Synchronous)

```bash
POST /api/chat
Content-Type: application/json

{
  "message": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡πà‡∏≠‡∏¢",
  "persona_id": 1,
  "temperature": 0.7,
  "max_tokens": 1000
}

# Response:
{
  "message_id": "550e8400-e29b-41d4-a716-446655440000",
  "reply": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°...",
  "persona": {
    "id": 1,
    "name": "General Assistant",
    "expertise": "general",
    "icon": "ü§ñ"
  },
  "tokens_used": 156,
  "model": "gpt-4o-mini",
  "timestamp": "2025-10-29T10:30:00Z"
}
```

#### 2. WebSocket Streaming

```javascript
// ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket
const ws = new WebSocket('ws://localhost:3000/api/chat/stream')

// ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
ws.onopen = () => {
  ws.send(JSON.stringify({
    type: 'message',
    content: '‡πÄ‡∏•‡πà‡∏≤‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢',
    persona_id: 1
  }))
}

// ‡∏£‡∏±‡∏ö chunks
ws.onmessage = (event) => {
  const data = JSON.parse(event.data)

  if (data.type === 'chunk' && !data.done) {
    // ‡∏£‡∏±‡∏ö chunk ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
    console.log(data.content) // "‡∏Å‡∏≤‡∏•", "‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏´‡∏ô‡∏∂‡πà‡∏á", ...
  } else if (data.done) {
    // Streaming ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
    console.log('Message ID:', data.message_id)
    console.log('Tokens used:', data.tokens_used)
  }
}
```

#### 3. Get Chat History

```bash
GET /api/chat/history?limit=50&offset=0

# Response:
{
  "messages": [
    {
      "id": "uuid",
      "role": "user",
      "content": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ",
      "persona_id": 1,
      "created_at": "2025-10-29T10:30:00Z"
    },
    {
      "id": "uuid",
      "role": "assistant",
      "content": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö...",
      "persona_id": 1,
      "created_at": "2025-10-29T10:30:05Z"
    }
  ],
  "total": 156,
  "limit": 50,
  "offset": 0
}
```

### üé≠ Persona Endpoints

#### 1. List All Personas

```bash
GET /api/personas

# Response:
{
  "personas": [
    {
      "id": 1,
      "name": "General Assistant",
      "system_prompt": "You are a helpful, friendly...",
      "expertise": "general",
      "description": "A versatile AI assistant...",
      "icon": "ü§ñ",
      "is_active": true,
      "created_at": "2025-10-29T09:23:50Z"
    }
  ]
}
```

#### 2. Get Persona Details

```bash
GET /api/personas/1

# Response:
{
  "id": 1,
  "name": "General Assistant",
  "system_prompt": "You are...",
  "expertise": "general",
  "description": "A versatile AI...",
  "icon": "ü§ñ",
  "is_active": true,
  "created_at": "2025-10-29T09:23:50Z",
  "stats": {
    "total_messages": 256,
    "avg_response_time": "2.3s"
  }
}
```

### üé§ Audio Transcription

```bash
POST /api/audio/transcribe
Content-Type: multipart/form-data

# Form data:
audio: [audio file] (max 25MB)

# Response:
{
  "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö...",
  "language": "th",
  "duration": 3.5,
  "confidence": 0.95,
  "timestamp": "2025-10-29T10:30:00Z"
}
```

**‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå:** mp3, wav, webm, m4a, mp4

---

## üß™ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö WebSocket

### üîπ Method 1: ‡πÉ‡∏ä‡πâ HTML Test Page (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏°‡∏µ test file ‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏µ‡πà `test_websocket.html`

#### **Step 1: ‡πÄ‡∏õ‡∏¥‡∏î Backend Server**

```bash
cd backend
go run main.go
# ‡∏£‡∏≠‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô "Server starting on port 3000"
```

#### **Step 2: ‡πÄ‡∏õ‡∏¥‡∏î Test Page**

```bash
# Windows
start test_websocket.html

# macOS
open test_websocket.html

# Linux
xdg-open test_websocket.html

# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢ browser ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
```

#### **Step 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

1. ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
2. ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å "‚óã Disconnected" ‚Üí "‚óè Connected"
3. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏ä‡πà‡∏ô **"‡πÄ‡∏•‡πà‡∏≤‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢"**
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Persona (1: General, 2: Tech, 3: Business)
5. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **"‡∏™‡πà‡∏á"**
6. üéâ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô AI ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏ö‡∏ö **typing effect** (‡∏ó‡∏µ‡∏•‡∏∞‡∏Ñ‡∏≥ real-time)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

```
You: ‡πÄ‡∏•‡πà‡∏≤‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢
AI:  ‡∏Å‡∏≤‡∏•‚îÉ                    <- chunk 1
AI:  ‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‚îÉ               <- chunk 2
AI:  ‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‚îÉ          <- chunk 3
AI:  ‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏°‡∏µ...‚îÉ    <- chunk 4
...
```

### üîπ Method 2: ‡πÉ‡∏ä‡πâ JavaScript Console

‡πÄ‡∏õ‡∏¥‡∏î Browser Console (F12) ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏á code ‡∏ô‡∏µ‡πâ:

```javascript
// ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket
const ws = new WebSocket('ws://localhost:3000/api/chat/stream');

ws.onopen = () => {
  console.log('‚úÖ Connected!');

  // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
  ws.send(JSON.stringify({
    type: 'message',
    content: '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ö‡∏≠‡∏ó‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á',
    persona_id: 1
  }));
};

let fullResponse = '';

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);

  if (data.type === 'chunk') {
    if (data.done) {
      console.log('‚úÖ Done!');
      console.log('Full response:', fullResponse);
      console.log('Message ID:', data.message_id);
      console.log('Tokens used:', data.tokens_used);
    } else {
      fullResponse += data.content;
      console.log('Chunk:', data.content);
    }
  }
};

ws.onerror = (error) => {
  console.error('‚ùå Error:', error);
};

ws.onclose = () => {
  console.log('üîå Disconnected');
};
```

### üîπ Method 3: ‡πÉ‡∏ä‡πâ Postman/Thunder Client

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á WebSocket request
2. URL: `ws://localhost:3000/api/chat/stream`
3. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
4. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° JSON:
   ```json
   {
     "type": "message",
     "content": "Hello",
     "persona_id": 1
   }
   ```
5. ‡∏î‡∏π response streams

---

## üóÑ Database Schema

### Tables ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

#### `personas` - ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á AI

```sql
CREATE TABLE personas (
  id           SERIAL PRIMARY KEY,
  name         VARCHAR(255) NOT NULL,
  system_prompt TEXT NOT NULL,
  expertise    VARCHAR(100),
  description  TEXT,
  icon         VARCHAR(10),
  is_active    BOOLEAN DEFAULT true,
  created_at   TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Default Data:**
- General Assistant (ü§ñ)
- Technology Expert (üíª)
- Business Advisor (üíº)

#### `messages` - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

```sql
CREATE TABLE messages (
  id           UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  role         VARCHAR(20) NOT NULL CHECK (role IN ('user', 'assistant', 'system')),
  content      TEXT NOT NULL,
  persona_id   INTEGER REFERENCES personas(id),
  tokens_used  INTEGER,
  metadata     JSONB DEFAULT '{}',
  created_at   TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Indexes:**
- `idx_messages_created_at` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö pagination
- `idx_messages_persona_id` - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö filter by persona

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database

### ‡πÉ‡∏ä‡πâ psql (Command Line)

```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà PostgreSQL container
docker exec -it chatbot_postgres psql -U chatbot_user -d chatbot_db

# ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå
\dt                              # ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏∏‡∏Å tables
\d messages                      # ‡πÅ‡∏™‡∏î‡∏á schema ‡∏Ç‡∏≠‡∏á messages table
\d personas                      # ‡πÅ‡∏™‡∏î‡∏á schema ‡∏Ç‡∏≠‡∏á personas table

SELECT * FROM personas;                     # ‡∏î‡∏π personas ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
SELECT COUNT(*) FROM messages;              # ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô messages
SELECT * FROM messages ORDER BY created_at DESC LIMIT 10;  # ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
SELECT role, COUNT(*) FROM messages GROUP BY role;  # ‡∏ô‡∏±‡∏ö‡∏ï‡∏≤‡∏° role
```

### ‡πÉ‡∏ä‡πâ DBeaver / TablePlus / pgAdmin

**Connection Info:**
- Host: `localhost`
- Port: `5432`
- Database: `chatbot_db`
- Username: `chatbot_user`
- Password: `admin123`

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ cURL

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Health Check

```bash
curl http://localhost:3000/api/health
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö List Personas

```bash
curl http://localhost:3000/api/personas
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Send Chat Message

```bash
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡πà‡∏≠‡∏¢",
    "persona_id": 1
  }'
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Get Chat History

```bash
curl "http://localhost:3000/api/chat/history?limit=10&offset=0"
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Audio Transcription

```bash
curl -X POST http://localhost:3000/api/audio/transcribe \
  -F "audio=@path/to/your/audio.mp3"
```

---

## üìù Project Structure

```
ChatBotProject/
‚îú‚îÄ‚îÄ backend/                     # Go Fiber Backend
‚îÇ   ‚îú‚îÄ‚îÄ main.go                 # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ go.mod                  # Dependencies
‚îÇ   ‚îú‚îÄ‚îÄ .env.development        # Configuration
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml      # PostgreSQL setup
‚îÇ   ‚îú‚îÄ‚îÄ config/                 # Configuration management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.go          # Env loader
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.go        # DB connection
‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Database models (GORM)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message.go         # Message entity
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ persona.go         # Persona entity
‚îÇ   ‚îú‚îÄ‚îÄ repositories/           # Data access layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message_repository.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ persona_repository.go
‚îÇ   ‚îú‚îÄ‚îÄ services/               # Business logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ openai_service.go  # OpenAI integration
‚îÇ   ‚îú‚îÄ‚îÄ controllers/            # HTTP handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat_controller.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ persona_controller.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audio_controller.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket_controller.go
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îî‚îÄ‚îÄ routes.go          # Route definitions
‚îú‚îÄ‚îÄ frontend/                   # Vue.js (placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ .env.development
‚îú‚îÄ‚îÄ test_websocket.html        # WebSocket test page
‚îú‚îÄ‚îÄ API_DOCUMENTATION.md       # API documentation
‚îú‚îÄ‚îÄ BMAD.md                    # Architecture doc
‚îú‚îÄ‚îÄ WORKFLOW.md                # Development workflow
‚îî‚îÄ‚îÄ README.md                  # This file
```

---

## üêõ Troubleshooting

### ‚ùå Database Connection Failed

**Symptoms:**
```
Failed to connect to database: dial tcp [::1]:5432: connectex: No connection could be made
```

**Solution:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ PostgreSQL ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
docker-compose ps

# ‡∏î‡∏π logs
docker-compose logs postgres

# Restart service
docker-compose restart postgres

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö connection string ‡πÉ‡∏ô .env.development
cat .env.development | grep DATABASE_URL
```

### ‚ùå OpenAI API Error

**Symptoms:**
```
Failed to get AI response: 401 Unauthorized
```

**Solution:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ OPENAI_API_KEY ‡πÉ‡∏ô .env
cat .env.development | grep OPENAI_API_KEY

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API key
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### ‚ùå Port Already in Use

**Symptoms:**
```
Failed to start server: listen tcp :3000: bind: Only one usage of each socket address
```

**Solution:**
```bash
# Windows
netstat -ano | findstr :3000
taskkill /F /PID <PID>

# Linux/Mac
lsof -i :3000
kill -9 <PID>
```

### ‚ùå WebSocket Connection Failed

**Symptoms:**
- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏™‡∏î‡∏á "‚óã Disconnected"
- Console ‡∏°‡∏µ error "WebSocket connection failed"

**Solution:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Backend ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡πÉ‡∏ô test_websocket.html ‡∏ß‡πà‡∏≤‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö port ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö firewall ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ block port

---

## üìö Additional Documentation

- üìñ [API Documentation](API_DOCUMENTATION.md) - API reference ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- üèó [Architecture Document](BMAD.md) - ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö
- üìã [Development Workflow](WORKFLOW.md) - ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

---

## üìÑ License

MIT License

---

## üë• Contributors

- **Your Name** - Initial development

---

## üìû Support

‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:
- üìß Email: your.email@example.com
- üêõ [Open an Issue](https://github.com/your-repo/issues)
- üí¨ Discord: your-discord-server

---

## üéØ Quick Start Checklist

‡πÉ‡∏ä‡πâ checklist ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

- [ ] ‚úÖ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Docker ‡πÅ‡∏•‡∏∞ Go ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‚úÖ Clone repository
- [ ] ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.development` ‡∏û‡∏£‡πâ‡∏≠‡∏° OpenAI API Key
- [ ] ‚úÖ ‡∏£‡∏±‡∏ô `docker-compose up -d` (PostgreSQL)
- [ ] ‚úÖ ‡∏£‡∏±‡∏ô `go run main.go` (Backend)
- [ ] ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3000/api/health ‡πÄ‡∏´‡πá‡∏ô `"status":"ok"`
- [ ] ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö WebSocket ‡∏î‡πâ‡∏ß‡∏¢ test_websocket.html
- [ ] üéâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‚ù§Ô∏è ‡πÅ‡∏•‡∏∞ Go + OpenAI**
